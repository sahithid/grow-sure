(function(){"use strict";var t={453:function(t,e,o){var n=o(9242),a=o(3396);function r(t,e,o,n,r,s){const l=(0,a.up)("NavigationBar"),i=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a.Wm)(i)],64)}const s={class:"navbar navbar-dark navbar-expand-md mb-4"},l={class:"container-fluid"},i=(0,a._)("img",{src:""},null,-1),c=(0,a._)("a",{class:"navbar-brand",href:"/",style:{"font-family":"Monaco"}},[(0,a.Uk)("GROW-"),(0,a._)("i",null,"sure")],-1),d=(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1),u={class:"collapse navbar-collapse d-flex flex-row-reverse",id:"navbarCollapse"},p={class:"navbar-nav mb-2 mb-md-0"},h={class:"nav-item"},g={key:0,class:"nav-link",href:"/login"},m={class:"nav-item"},f={key:0,class:"nav-link",href:"/register"},y={class:"collapse navbar-collapse",id:"navbarCollapse"},b={class:"navbar-nav me-auto mb-2 mb-md-0"},w={class:"nav-item"},v={key:0,class:"nav-link",href:"/products"},_={class:"nav-item"},k={key:0,class:"nav-link",href:"/categories"},C={class:"nav-item"},A={key:0,class:"nav-link",href:"/approvals"},S={class:"nav-item"},T=["href"],j={class:"nav-item"},I=["href"];function O(t,e,o,r,O,D){return(0,a.wg)(),(0,a.iD)("nav",s,[(0,a._)("div",l,[i,c,d,(0,a._)("div",u,[(0,a._)("ul",p,[(0,a._)("li",h,[D.visible?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",g,"Login"))]),(0,a._)("li",m,[D.visible?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",f,"Sign Up"))])])]),(0,a._)("div",y,[(0,a._)("ul",b,[(0,a._)("li",w,[D.visible?((0,a.wg)(),(0,a.iD)("a",v,"Products")):(0,a.kq)("",!0)]),(0,a._)("li",_,[D.visible?((0,a.wg)(),(0,a.iD)("a",k,"Categories")):(0,a.kq)("",!0)]),(0,a._)("li",C,[D.visible&&"admin"==O.role?((0,a.wg)(),(0,a.iD)("a",A,"Approvals")):(0,a.kq)("",!0)]),(0,a._)("li",S,[D.visible&&"user"==O.role?((0,a.wg)(),(0,a.iD)("a",{key:0,class:"nav-link",href:O.cart},"Cart",8,T)):(0,a.kq)("",!0)]),(0,a._)("li",j,[D.visible&&"user"==O.role?((0,a.wg)(),(0,a.iD)("a",{key:0,class:"nav-link",href:O.orders},"Orders",8,I)):(0,a.kq)("",!0)])]),D.visible?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-outline-success",type:"submit",onClick:e[0]||(e[0]=(0,n.iM)(((...t)=>D.logout&&D.logout(...t)),["prevent"]))}," Logout ")):(0,a.kq)("",!0)])])])}o(560);var D={data(){return{cart:"/cart/".concat(localStorage.getItem("user_id")),orders:"/orders/".concat(localStorage.getItem("user_id")),role:localStorage.getItem("role")}},computed:{visible(){return null==localStorage.getItem("accessToken")?0:1}},methods:{logout(){localStorage.clear(),this.$router.push({path:"/login"})}}},x=o(89);const P=(0,x.Z)(D,[["render",O]]);var z=P,E={name:"App",components:{NavigationBar:z}};const U=(0,x.Z)(E,[["render",r]]);var q=U,B=o(2483),M=o.p+"img/logo.4703feac.png";const V={class:"cover-container d-flex h-100 p-3 mx-auto flex-column"},N=(0,a.uE)('<div class="overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light"><div class="d-flex justify-content-center"><img alt="Logo" src="'+M+'" width="800" height="400"></div><div class="mx-auto my-5"><h1 class="display-4 font-weight-normal"> Your Friendly Neighborhood Grocery Store </h1><p class="lead font-weight-normal"> This is your one-stop shop for all your wonderful cooking (and eating) adventures in your kitchen. <br><i>Sure to be delicious. </i></p><a class="btn btn-outline-secondary" href="/register">Sign Up</a></div></div><footer class="mastfoot mt-auto d-flex justify-content-center"><div class="inner"><p>21f1003337 | Sahithi D</p></div></footer>',2),$=[N];function R(t,e,o,n,r,s){return(0,a.wg)(),(0,a.iD)("div",V,$)}var F={};const Y=(0,x.Z)(F,[["render",R]]);var Z=Y;const G={class:"form-signin w-100 m-auto"},H=(0,a._)("h1",{class:"h3 mb-3 fw-normal"},"Login",-1),J={class:"form-floating"},L=(0,a._)("label",{for:"floatingInput"},"Email address",-1),K={class:"form-floating"},Q=(0,a._)("label",{for:"floatingPassword"},"Password",-1),W=(0,a._)("button",{class:"btn btn-primary w-100 py-2",type:"submit"}," Sign in ",-1),X=(0,a._)("br",null,null,-1),tt=(0,a._)("div",{class:"d-flex justify-content-center"},[(0,a.Uk)(" Don't have an account?   "),(0,a._)("a",{href:"/reister"}," Sign Up ")],-1);function et(t,e,o,r,s,l){return(0,a.wg)(),(0,a.iD)("main",G,[(0,a._)("form",{onSubmit:e[2]||(e[2]=(0,n.iM)(((...t)=>l.login&&l.login(...t)),["prevent"]))},[H,(0,a._)("div",J,[(0,a.wy)((0,a._)("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=t=>s.email=t)},null,512),[[n.nr,s.email]]),L]),(0,a._)("div",K,[(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t)},null,512),[[n.nr,s.password]]),Q]),W],32),X,tt])}var ot={data(){return{email:"",password:""}},methods:{login(){fetch("http://127.0.0.1:5000/api/login",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({email:this.email,password:this.password})}).then((t=>t.json())).then((t=>{alert(t["msg"]),200==t["code"]?(localStorage.setItem("accessToken",t["access_token"]),localStorage.setItem("role",t["role"]),localStorage.setItem("user_id",t["id"]),"admin"==t["role"]?this.$router.push({path:"/categories"}):this.$router.push({path:"/products"})):this.$router.push({path:"/login"})})).catch((t=>{console.log(t)}))}}};const nt=(0,x.Z)(ot,[["render",et]]);var at=nt;const rt={class:"form-signin w-100 m-auto"},st=(0,a._)("h1",{class:"h3 mb-3 fw-normal"},"Sign Up",-1),lt={class:"form-floating"},it=(0,a._)("label",{for:"floatingInput"},"Username",-1),ct={class:"form-floating"},dt=(0,a._)("label",{for:"floatingInput"},"Email address",-1),ut={class:"form-floating"},pt=(0,a._)("label",{for:"floatingPassword"},"Password",-1),ht={class:"form-floating"},gt=(0,a._)("option",null,"user",-1),mt=(0,a._)("option",null,"manager",-1),ft=[gt,mt],yt=(0,a._)("label",{for:"floatingInput"},"Role",-1),bt=(0,a._)("p",null,null,-1),wt=(0,a._)("button",{class:"btn btn-outline-success w-100 py-2",type:"submit"}," Register ",-1),vt=(0,a._)("br",null,null,-1),_t=(0,a._)("div",{class:"d-flex justify-content-center"},[(0,a.Uk)(" Already a member?   "),(0,a._)("a",{href:"/login"}," Login In ")],-1);function kt(t,e,o,r,s,l){return(0,a.wg)(),(0,a.iD)("main",rt,[(0,a._)("form",{onSubmit:e[4]||(e[4]=(0,n.iM)(((...t)=>l.signup&&l.signup(...t)),["prevent"]))},[st,(0,a._)("div",lt,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=t=>s.name=t)},null,512),[[n.nr,s.name]]),it]),(0,a._)("div",ct,[(0,a.wy)((0,a._)("input",{type:"email",class:"form-control",id:"floatingEmail",placeholder:"name@example.com","onUpdate:modelValue":e[1]||(e[1]=t=>s.email=t)},null,512),[[n.nr,s.email]]),dt]),(0,a._)("div",ut,[(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":e[2]||(e[2]=t=>s.password=t)},null,512),[[n.nr,s.password]]),pt]),(0,a._)("div",ht,[(0,a.wy)((0,a._)("select",{class:"form-control",id:"floatingSelect",placeholder:"Role","onUpdate:modelValue":e[3]||(e[3]=t=>s.role=t)},ft,512),[[n.bM,s.role]]),yt]),bt,wt],32),vt,_t])}var Ct={data(){return{name:"",email:"",password:"",role:""}},methods:{signup(){fetch("http://127.0.0.1:5000/api/register",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({name:this.name,email:this.email,password:this.password,role:this.role})}).then((t=>t.json())).then((t=>{alert(t["msg"]),this.$router.push({path:"/login"})})).catch((t=>{console.log(t)}))}},created(){}};const At=(0,x.Z)(Ct,[["render",kt]]);var St=At,Tt=o(7139);const jt={class:"d-flex justify-content-center"},It=(0,a._)("br",null,null,-1),Ot={class:"d-flex justify-content-center"},Dt={class:"row row-cols-1 row-cols-md-3 mb-3 text-center"},xt={class:"card-header py-3"},Pt={class:"my-0 fw-normal"},zt={class:"card-body"},Et=(0,a._)("h5",{class:"card-title pricing-card-title"},null,-1),Ut=["onClick"],qt=["onClick"],Bt={type:"button",class:"w-50 btn btn-lg btn-outline-secondary"},Mt={type:"button",class:"w-50 btn btn-lg btn-outline-secondary"};function Vt(t,e,o,r,s,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",jt,[(0,a.wy)((0,a._)("input",{class:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search","onUpdate:modelValue":e[0]||(e[0]=e=>t.search=e),style:{width:"30rem"}},null,512),[[n.nr,t.search]]),(0,a._)("button",{class:"btn btn-outline-success my-2 my-sm-0",type:"submit",onClick:e[1]||(e[1]=(0,n.iM)(((...t)=>l.searchPage&&l.searchPage(...t)),["prevent"]))}," Search ")]),It,(0,a._)("div",Ot,[(0,a.wy)((0,a._)("button",{type:"button",class:"w-30 btn btn-lg btn-outline-success",onClick:e[2]||(e[2]=e=>t.$router.push("/categories/add"))}," Add Category + ",512),[[n.F8,"admin"==s.role]]),(0,a.wy)((0,a._)("button",{type:"button",class:"w-30 btn btn-lg btn-outline-success",onClick:e[3]||(e[3]=e=>t.$router.push("/categories/request/add"))}," Request to Add Category + ",512),[[n.F8,"manager"==s.role]])]),(0,a._)("div",Dt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.categories,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"card mb-4 rounded-3 shadow-sm",key:e.id},[(0,a._)("div",xt,[(0,a._)("h4",Pt,(0,Tt.zw)(e.name),1)]),(0,a._)("div",zt,[Et,(0,a.wy)((0,a._)("button",{type:"button",class:"w-50 btn btn-lg btn-outline-success",onClick:o=>t.$router.push("/categories/edit/".concat(e.id))}," Edit ",8,Ut),[[n.F8,"admin"==s.role]]),(0,a.wy)((0,a._)("button",{type:"button",class:"w-50 btn btn-lg btn-outline-danger",onClick:(0,n.iM)((t=>l.removeCategory(e.id)),["prevent"])}," Remove ",8,qt),[[n.F8,"admin"==s.role]]),(0,a.wy)((0,a._)("button",Bt," Request to Edit ",512),[[n.F8,"manager"==s.role]]),(0,a.wy)((0,a._)("button",Mt," Request to Remove ",512),[[n.F8,"manager"==s.role]])])])))),128))])])}var Nt={data(){return{categories:[],name:"",id:"",role:localStorage.getItem("role")}},methods:{getCategories(){fetch("http://127.0.0.1:5000/api/categories",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{this.categories.push(...t)})).catch((t=>{console.log(t)}))},removeCategory(t){confirm("Are you sure you want to delete this?")&&fetch("http://127.0.0.1:5000/api/categories/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{alert(t["msg"])})).catch((t=>{console.log(t)}))},searchPage(){fetch("http://127.0.0.1:5000/api/search",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")},body:JSON.stringify({search:this.search,comp:"Category1"})}).then((t=>t.json())).then((t=>{t["msg"]?alert(t["msg"]):(this.categories=[],this.categories.push(...t))})).catch((t=>{console.log(t)}))}},created(){this.getCategories()}};const $t=(0,x.Z)(Nt,[["render",Vt]]);var Rt=$t;const Ft={class:"form-signin w-100 m-auto"},Yt={key:0,class:"h3 mb-3 fw-normal"},Zt={key:1,class:"h3 mb-3 fw-normal"},Gt={class:"form-floating"},Ht=(0,a._)("label",{for:"floatingInput"},"Category Name",-1),Jt=(0,a._)("p",null,null,-1);function Lt(t,e,o,r,s,l){return(0,a.wg)(),(0,a.iD)("main",Ft,[(0,a._)("form",null,["add"==s.action?((0,a.wg)(),(0,a.iD)("h1",Yt,"Add Category")):((0,a.wg)(),(0,a.iD)("h1",Zt,"Edit Category")),(0,a._)("div",Gt,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput","onUpdate:modelValue":e[0]||(e[0]=t=>s.name=t)},null,512),[[n.nr,s.name]]),Ht]),Jt,"add"==s.action?((0,a.wg)(),(0,a.iD)("button",{key:2,class:"btn btn-outline-success w-100 py-2",type:"submit",onClick:e[1]||(e[1]=(0,n.iM)(((...t)=>l.addCategory&&l.addCategory(...t)),["prevent"]))}," Add Category ")):((0,a.wg)(),(0,a.iD)("button",{key:3,class:"btn btn-outline-success w-100 py-2",type:"submit",onClick:e[2]||(e[2]=(0,n.iM)((t=>l.editCategory(this.$route.params.id)),["prevent"]))}," Edit Category "))])])}var Kt={data(){return{name:"",role:localStorage.getItem("role"),action:window.location.href.split("/").pop()}},methods:{addCategory(){fetch("http://127.0.0.1:5000/api/categories",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")},body:JSON.stringify({name:this.name,approved:1})}).then((t=>t.json())).then((t=>{alert(t["msg"]),this.$router.push("/categories")})).catch((t=>{console.log(t)}))},editCategory(t){fetch("http://127.0.0.1:5000/api/categories/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")},body:JSON.stringify({name:this.name})}).then((t=>t.json())).then((t=>{alert(t["msg"]),this.$router.push("/categories")})).catch((t=>{console.log(t)}))},getCatInfo(t){fetch("http://127.0.0.1:5000/api/categories/".concat(t),{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{console.log(t["name"]),this.name=t["name"]})).catch((t=>{console.log(t)}))}},created(){"add"!=this.action&&this.getCatInfo(this.$route.params.id)}};const Qt=(0,x.Z)(Kt,[["render",Lt]]);var Wt=Qt;const Xt={class:"d-flex justify-content-center"},te=(0,a._)("br",null,null,-1),ee={class:"d-flex justify-content-center"},oe=(0,a._)("p",null,null,-1),ne={class:"row row-cols-1 row-cols-md-3 mb-3 text-center"},ae={class:"card-header py-3"},re={class:"my-0 fw-normal"},se={class:"card-body"},le={class:"list-unstyled mt-3 mb-4"},ie=["onClick"],ce={key:1,type:"button",class:"w-50 btn btn-lg btn-outline-success disabled"},de=["onClick"],ue=["onClick"];function pe(t,e,o,r,s,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Xt,[(0,a.wy)((0,a._)("input",{class:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search","onUpdate:modelValue":e[0]||(e[0]=t=>s.search=t),style:{width:"30rem"}},null,512),[[n.nr,s.search]]),(0,a._)("button",{class:"btn btn-outline-success my-2 my-sm-0",type:"submit",onClick:e[1]||(e[1]=(0,n.iM)(((...t)=>l.searchPage&&l.searchPage(...t)),["prevent"]))}," Search ")]),te,(0,a._)("div",ee,[(0,a.wy)((0,a._)("button",{type:"button",class:"w-30 btn btn-lg btn-outline-success justify-content-center",onClick:e[2]||(e[2]=e=>t.$router.push("/products/add"))}," Add Product + ",512),[[n.F8,"manager"==s.role]]),"manager"==s.role?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-outline-success my-2 my-sm-0",type:"submit",onClick:e[3]||(e[3]=(0,n.iM)(((...t)=>l.exportCSV&&l.exportCSV(...t)),["prevent"]))}," Product Summary ")):(0,a.kq)("",!0)]),oe,(0,a._)("div",ne,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.products,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"card mb-4 rounded-3 shadow-sm",key:e.id},[(0,a._)("div",ae,[(0,a._)("h4",re,(0,Tt.zw)(e.name),1)]),(0,a._)("div",se,[(0,a._)("h6",null,[(0,a._)("u",null,(0,Tt.zw)(e.category),1)]),(0,a._)("ul",le,[(0,a._)("li",null,[(0,a.wy)((0,a._)("b",null,"Stock : "+(0,Tt.zw)(e.stock),513),[[n.F8,"user"!=s.role]])]),(0,a._)("li",null,"Rs. "+(0,Tt.zw)(e.price),1),(0,a._)("li",null,"Units : "+(0,Tt.zw)(e.quantity)+" "+(0,Tt.zw)(e.units),1),(0,a._)("li",null,"Manufacture date : "+(0,Tt.zw)(e.manufacture_date),1),(0,a._)("li",null,"Expiry date: "+(0,Tt.zw)(e.expiry_date),1),(0,a._)("li",null,"stock : "+(0,Tt.zw)(e.stock),1)]),"user"==s.role&&e.stock>0?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"w-50 btn btn-lg btn-outline-success",onClick:(0,n.iM)((t=>l.addToCart(e.id)),["prevent"])}," Add to Cart ",8,ie)):(0,a.kq)("",!0),"user"==s.role&&0==e.stock?((0,a.wg)(),(0,a.iD)("button",ce," Out of Stock ")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("button",{type:"button",class:"w-50 btn btn-lg btn-outline-success",onClick:o=>t.$router.push("/products/edit/".concat(e.id))}," Edit ",8,de),[[n.F8,"manager"==s.role]]),(0,a.wy)((0,a._)("button",{type:"button",class:"w-50 btn btn-lg btn-outline-danger",onClick:(0,n.iM)((t=>l.removeProduct(e.id)),["prevent"])}," Remove ",8,ue),[[n.F8,"manager"==s.role]])])])))),128))])])}var he={data(){return{products:[],name:"",id:0,role:localStorage.getItem("role"),search:"",search_flag:!0}},methods:{getProducts(){fetch("http://127.0.0.1:5000/api/products",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{this.products.push(...t)})).catch((t=>{console.log(t)}))},removeProduct(t){confirm("Are you sure you want to delete this? ")&&fetch("http://127.0.0.1:5000/api/products/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{alert(t["msg"])})).catch((t=>{console.log(t)}))},addToCart(t){console.log(t);const e=localStorage.getItem("user_id");fetch("http://127.0.0.1:5000/api/cart/".concat(e),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")},body:JSON.stringify({product_id:t,quantity:1})}).then((t=>t.json())).then((t=>{alert(t["msg"])})).catch((t=>{console.log(t)}))},searchPage(){fetch("http://127.0.0.1:5000/api/search",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")},body:JSON.stringify({search:this.search,comp:"Product1"})}).then((t=>t.json())).then((t=>{t["msg"]?alert(t["msg"]):(this.products=[],this.products.push(...t))})).catch((t=>{console.log(t)}))},exportCSV(){fetch("http://127.0.0.1:5000/product-csv/",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{alert(t["msg"])})).catch((t=>{console.log(t)}))}},created(){this.getProducts()}};const ge=(0,x.Z)(he,[["render",pe]]);var me=ge;const fe={class:"form-signin w-100 m-auto"},ye={key:0,class:"h3 mb-3 fw-normal"},be={key:1,class:"h3 mb-3 fw-normal"},we={class:"form-floating"},ve=(0,a._)("label",{for:"floatingInput"},"Product Name",-1),_e={class:"form-floating"},ke=(0,a._)("label",{for:"floatingInput"},"Category",-1),Ce={class:"form-floating"},Ae=(0,a._)("label",{for:"floatingInput"},"Stock",-1),Se={class:"form-floating"},Te=(0,a._)("label",{for:"floatingInput"},"Price in Rs.",-1),je={class:"form-floating"},Ie=(0,a._)("label",{for:"floatingInput"},"Manufature Date ",-1),Oe={class:"form-floating"},De=(0,a._)("label",{for:"floatingInput"},"Expiry Date ",-1),xe={class:"form-floating"},Pe=(0,a._)("label",{for:"floatingInput"},"Units (kgs, ltrs, etc.)",-1),ze={class:"form-floating"},Ee=(0,a._)("label",{for:"floatingInput"},"Quantity (kg, ltr, etc.)",-1),Ue={class:"form-floating"},qe=(0,a._)("label",{for:"floatingInput"},"# Sold",-1),Be=(0,a._)("p",null,null,-1);function Me(t,e,o,r,s,l){return(0,a.wg)(),(0,a.iD)("main",fe,[(0,a._)("form",null,["add"==s.action?((0,a.wg)(),(0,a.iD)("h1",ye,"Add Product")):((0,a.wg)(),(0,a.iD)("h1",be,"Edit Product")),(0,a._)("div",we,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput","onUpdate:modelValue":e[0]||(e[0]=t=>s.name=t)},null,512),[[n.nr,s.name]]),ve]),(0,a._)("div",_e,[(0,a.wy)((0,a._)("select",{class:"form-control",id:"floatingSelect","onUpdate:modelValue":e[1]||(e[1]=t=>s.category=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.categories,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.id},(0,Tt.zw)(t.name),1)))),128))],512),[[n.bM,s.category]]),ke]),(0,a._)("div",Ce,[(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",id:"floatingInput","onUpdate:modelValue":e[2]||(e[2]=t=>s.stock=t)},null,512),[[n.nr,s.stock]]),Ae]),(0,a._)("div",Se,[(0,a.wy)((0,a._)("input",{type:"number",step:"0.01",class:"form-control",id:"floatingInput","onUpdate:modelValue":e[3]||(e[3]=t=>s.price=t)},null,512),[[n.nr,s.price]]),Te]),(0,a._)("div",je,[(0,a.wy)((0,a._)("input",{type:"date",class:"form-control",id:"floatingInput","onUpdate:modelValue":e[4]||(e[4]=t=>s.manufacture_date=t)},null,512),[[n.nr,s.manufacture_date]]),Ie]),(0,a._)("div",Oe,[(0,a.wy)((0,a._)("input",{type:"date",class:"form-control",id:"floatingInput","onUpdate:modelValue":e[5]||(e[5]=t=>s.expiry_date=t)},null,512),[[n.nr,s.expiry_date]]),De]),(0,a._)("div",xe,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput","onUpdate:modelValue":e[6]||(e[6]=t=>s.units=t)},null,512),[[n.nr,s.units]]),Pe]),(0,a._)("div",ze,[(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",id:"floatingInput","onUpdate:modelValue":e[7]||(e[7]=t=>s.quantity=t)},null,512),[[n.nr,s.quantity]]),Ee]),(0,a._)("div",Ue,[(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",id:"floatingInput","onUpdate:modelValue":e[8]||(e[8]=t=>s.sold=t)},null,512),[[n.nr,s.sold]]),qe]),Be,"add"==s.action?((0,a.wg)(),(0,a.iD)("button",{key:2,class:"btn btn-outline-success w-100 py-2",type:"submit",onClick:e[9]||(e[9]=(0,n.iM)(((...t)=>l.addProduct2&&l.addProduct2(...t)),["prevent"]))}," Add Product ")):((0,a.wg)(),(0,a.iD)("button",{key:3,class:"btn btn-outline-success w-100 py-2",type:"submit",onClick:e[10]||(e[10]=(0,n.iM)((t=>l.editProduct(this.$route.params.id)),["prevent"]))}," Edit Product "))])])}var Ve={data(){return{action:window.location.href.split("/").pop(),categories:[],name:"",category:"",stock:0,price:0,manufacture_date:"",expiry_date:"",quantity:0,units:"",sold:0}},methods:{addProduct2(){fetch("http://127.0.0.1:5000/api/products",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")},body:JSON.stringify({name:this.name,category:this.category,stock:this.stock,price:this.price,manufacture_date:this.manufacture_date,expiry_date:this.expiry_date,quantity:this.quantity,units:this.units,sold:this.sold})}).then((t=>t.json())).then((t=>{alert(t["msg"]),this.$router.push("/products")})).catch((t=>{console.log(t)}))},editProduct(t){fetch("http://127.0.0.1:5000/api/products/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")},body:JSON.stringify({name:this.name,category:this.category,stock:this.stock,price:this.price,manufacture_date:this.manufacture_date,expiry_date:this.expiry_date,quantity:this.quantity,units:this.units,sold:this.sold})}).then((t=>t.json())).then((t=>{alert(t["msg"]),this.$router.push("/products")})).catch((t=>{console.log(t)}))},getProductInfo(t){fetch("http://127.0.0.1:5000/api/products/".concat(t),{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{this.name=t["name"],this.category=t["category"],this.stock=t["stock"],this.price=t["price"],this.manufacture_date=t["manufacture_date"],this.expiry_date=t["expiry_date"],this.quantity=t["quantity"]})).catch((t=>{console.log(t)}))},getCategories(){fetch("http://127.0.0.1:5000/api/categories",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{this.categories.push(...t)})).catch((t=>{console.log(t)}))}},created(){this.getCategories(),"add"!=this.action&&this.getProductInfo(this.$route.params.id)}};const Ne=(0,x.Z)(Ve,[["render",Me]]);var $e=Ne;const Re=(0,a._)("div",{class:"d-flex justify-content-center"},[(0,a._)("h2",null,"Store Managers Pending Approval")],-1),Fe={class:"d-flex justify-content-center"},Ye={class:"row justify-content-center row-cols-1 row-cols-md-2 mb-2 text-center"},Ze={class:"card-header py-3"},Ge={class:"my-0 fw-normal"},He={class:"card-body"},Je={class:"card-title pricing-card-title"},Le=["onClick"],Ke=["onClick"];function Qe(t,e,o,r,s,l){return(0,a.wg)(),(0,a.iD)(a.HY,null,[Re,(0,a._)("div",Fe,[(0,a._)("button",{type:"button",class:"btn btn-success",onClick:e[0]||(e[0]=(0,n.iM)(((...t)=>l.approveAll&&l.approveAll(...t)),["prevent"]))}," Approve All ")]),(0,a._)("div",Ye,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.approvals,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"card mb-4 rounded-3 shadow-sm center",style:{width:"50rem"},key:t.id},[(0,a._)("div",Ze,[(0,a._)("h4",Ge,(0,Tt.zw)(t.id)+" | "+(0,Tt.zw)(t.name),1)]),(0,a._)("div",He,[(0,a._)("h5",Je,(0,Tt.zw)(t.email),1),(0,a._)("button",{type:"button",class:"btn btn-success mr-1",onClick:(0,n.iM)((e=>l.actionApproval("approve",t.id)),["prevent"])}," Approve ",8,Le),(0,a._)("button",{type:"button",class:"btn btn-danger m-2",onClick:(0,n.iM)((e=>l.actionApproval("reject",t.id)),["prevent"])}," Reject ",8,Ke)])])))),128))])],64)}var We={data(){return{approvals:[],action:""}},methods:{getPendingApprovals(){fetch("http://127.0.0.1:5000/api/approvals",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{this.approvals.push(...t)})).catch((t=>{console.log(t)}))},actionApproval(t,e){const o="http://127.0.0.1:5000/api/approvals/".concat(e);fetch(o,{method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")},body:JSON.stringify({action:t})}).then((t=>t.json())).then((t=>{alert(t["msg"])})).catch((t=>{console.log(t)}))},approveAll(){fetch("http://127.0.0.1:5000/api/approvals",{method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{alert(t["msg"]),window.top.location=window.top.location})).catch((t=>{console.log(t)}))}},created(){this.getPendingApprovals()}};const Xe=(0,x.Z)(We,[["render",Qe]]);var to=Xe;const eo=(0,a._)("div",{class:"d-flex justify-content-center"},[(0,a._)("h2",null,"Your Shopping Cart")],-1),oo=(0,a._)("br",null,null,-1),no={class:"row justify-content-center row-cols-1 row-cols-md-1 mb-2 text-center"},ao={class:"card-header py-3"},ro={class:"my-0 fw-normal"},so={class:"card-body"},lo=(0,a._)("h5",{class:"card-title pricing-card-title"},null,-1),io={class:"list-unstyled mt-3 mb-4"},co={key:0},uo={class:"d-flex justify-content-center"},po={class:"form-floating"},ho=["onUpdate:modelValue"],go=(0,a._)("label",{class:"text-center",for:"floatingInput"},"Quantity",-1),mo=["onClick"],fo={key:0,class:"d-flex justify-content-center"},yo={class:"d-flex justify-content-center"};function bo(t,e,o,r,s,l){return(0,a.wg)(),(0,a.iD)(a.HY,null,[eo,oo,(0,a._)("div",no,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.cart_items,((t,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"card mb-4 rounded-3 shadow-sm center",style:{width:"50rem"},key:o},[(0,a._)("div",ao,[(0,a._)("h4",ro,(0,Tt.zw)(t.name)+" | ("+(0,Tt.zw)(t.category)+")",1)]),(0,a._)("div",so,[lo,(0,a._)("ul",io,[(0,a._)("li",null,"Rs. "+(0,Tt.zw)(t.price),1),(0,a._)("li",null,"Quantity: "+(0,Tt.zw)(t.amount_to_buy),1),s.input_visible?((0,a.wg)(),(0,a.iD)("li",co,[(0,a._)("div",uo,[(0,a._)("div",po,[(0,a.wy)((0,a._)("input",{type:"number",class:"form-control text-center",style:{width:"5rem"},id:"floatingInput","onUpdate:modelValue":e=>t.amount_to_buy=e},null,8,ho),[[n.nr,t.amount_to_buy]]),go])])])):(0,a.kq)("",!0)]),s.input_visible?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn btn-outline-success m-2",onClick:e[0]||(e[0]=(0,n.iM)((t=>l.edit(!0)),["prevent"]))}," Edit ")),s.input_visible?((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",class:"btn btn-outline-success m-2",onClick:e[1]||(e[1]=(0,n.iM)((t=>l.edit(!1)),["prevent"]))}," Save ")):(0,a.kq)("",!0),(0,a._)("button",{type:"button",class:"btn btn-outline-danger m-2",onClick:(0,n.iM)((e=>l.removeItem(t.id)),["prevent"])}," Remove ",8,mo)])])))),128))]),0!=s.cart_items.length?((0,a.wg)(),(0,a.iD)("div",fo,[(0,a._)("h3",null,"Total - Rs. "+(0,Tt.zw)(l.calculateTotal()),1)])):(0,a.kq)("",!0),(0,a._)("div",yo,[0!=s.cart_items.length?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn btn-success",onClick:e[2]||(e[2]=(0,n.iM)(((...t)=>l.buyCart&&l.buyCart(...t)),["prevent"]))}," Buy All ")):((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",class:"btn btn-outline-success",onClick:e[3]||(e[3]=e=>t.$router.push("/products"))}," Add to Cart + "))])],64)}var wo={data(){return{cart_items:[],input_visible:!1}},methods:{calculateTotal(){let t=0;for(let e=0;e<this.cart_items.length;e++)t+=this.cart_items[e].price*this.cart_items[e].amount_to_buy;return t},getItems(){const t=localStorage.getItem("user_id");fetch("http://127.0.0.1:5000/api/cart/".concat(t),{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{this.cart_items.push(...t)})).catch((t=>{console.log(t)}))},removeItem(t){if(confirm("Are you sure you want to delete this item? ")){const e=localStorage.getItem("user_id"),o="http://127.0.0.1:5000/api/cart/".concat(e,"/",t);fetch(o,{method:"DELETE",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{alert(t["msg"])})).catch((t=>{console.log(t)}))}},edit(t){this.input_visible=t},buyCart(){if(confirm("Confirm to place an order")){const t=localStorage.getItem("user_id"),e="http://127.0.0.1:5000/api/orders/".concat(t);fetch(e,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")},body:JSON.stringify({total:this.calculateTotal()})}).then((t=>t.json())).then((t=>{alert(t["msg"])})).catch((t=>{console.log(t)})),this.deleteEntireCart()}},deleteEntireCart(){const t=localStorage.getItem("user_id"),e="http://127.0.0.1:5000/api/cart/".concat(t);fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{alert(t["msg"])})).catch((t=>{console.log(t)}))}},created(){this.getItems(),this.calculateTotal()}};const vo=(0,x.Z)(wo,[["render",bo]]);var _o=vo;const ko=(0,a._)("div",{class:"d-flex justify-content-center"},[(0,a._)("h2",null,"Your Orders")],-1),Co=(0,a._)("br",null,null,-1),Ao={class:"row justify-content-center row-cols-1 row-cols-md-1 mb-2 text-center"},So={class:"card-header py-3"},To={class:"my-0 fw-normal"},jo={class:"card-body"},Io={class:"card-title pricing-card-title"},Oo={class:"row row-cols-3 row-cols-md-3 mb-2 text-center"},Do={class:"card-header py-3"},xo={class:"my-0 fw-normal"},Po={class:"card-body"},zo={class:"list-unstyled mt-1 mb-1"};function Eo(t,e,o,n,r,s){return(0,a.wg)(),(0,a.iD)(a.HY,null,[ko,Co,(0,a._)("div",Ao,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.orders,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"card mb-4 rounded-3 shadow-sm center",key:t.id,style:{width:"85rem"}},[(0,a._)("div",So,[(0,a._)("h4",To,[(0,a._)("u",null,"Order # "+(0,Tt.zw)(e+1)+" - Rs. "+(0,Tt.zw)(t.total),1)])]),(0,a._)("div",jo,[(0,a._)("h5",Io,(0,Tt.zw)(t.time),1),(0,a._)("div",Oo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.items,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"card mb-4 rounded-3 shadow-sm center",key:t.id},[(0,a._)("div",Do,[(0,a._)("h4",xo,(0,Tt.zw)(t.name)+" | "+(0,Tt.zw)(t.category),1)]),(0,a._)("div",Po,[(0,a._)("ul",zo,[(0,a._)("li",null,"Rs. "+(0,Tt.zw)(t.price),1),(0,a._)("li",null,"Quantity "+(0,Tt.zw)(t.amount_to_buy),1)])])])))),128))])])])))),128))])],64)}var Uo={data(){return{orders:[]}},methods:{getOrders(){const t=localStorage.getItem("user_id");fetch("http://127.0.0.1:5000/api/orders/".concat(t),{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{this.orders.push(...t),console.log(t)})).catch((t=>{console.log(t)}))}},created(){this.getOrders()}};const qo=(0,x.Z)(Uo,[["render",Eo]]);var Bo=qo;const Mo=(0,a._)("div",{class:"d-flex justify-content-center"},"Dashboard",-1);function Vo(t,e,o,r,s,l){return(0,a.wg)(),(0,a.iD)("div",null,[Mo,(0,a.Uk)(" Dashboard "),"manager"==s.role?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-outline-primary my-2 my-sm-0",type:"submit",onClick:e[0]||(e[0]=(0,n.iM)(((...t)=>l.exportCSV&&l.exportCSV(...t)),["prevent"]))}," Product Summary ")):(0,a.kq)("",!0)])}var No={data(){return{role:localStorage.getItem("role")}},methods:{exportCSV(){fetch("http://127.0.0.1:5000/product-csv/",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((t=>t.json())).then((t=>{alert(t["msg"])})).catch((t=>{console.log(t)}))}}};const $o=(0,x.Z)(No,[["render",Vo]]);var Ro=$o;const Fo=[{path:"/",name:"home",component:Z},{path:"/login",name:"login",component:at},{path:"/register",name:"signup",component:St},{path:"/categories",name:"category",component:Rt},{path:"/categories/add",name:"add_category",component:Wt},{path:"/categories/edit/:id",name:"category.edit",component:Wt},{path:"/products",name:"product",component:me},{path:"/products/add",name:"add_product",component:$e},{path:"/products/edit/:id",name:"product.edit",component:$e},{path:"/approvals",name:"approvals",component:to},{path:"/cart/:id",name:"cart",component:_o},{path:"/orders/:id",name:"orders",component:Bo},{path:"/dashboard",name:"dashboard",component:Ro}],Yo=(0,B.p7)({history:(0,B.PO)(),routes:Fo});var Zo=Yo,Go=o(5431);(0,Go.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});const Ho=(0,n.ri)(q);Ho.use(Zo),Ho.mount("#app")}},e={};function o(n){var a=e[n];if(void 0!==a)return a.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,n,a,r){if(!n){var s=1/0;for(d=0;d<t.length;d++){n=t[d][0],a=t[d][1],r=t[d][2];for(var l=!0,i=0;i<n.length;i++)(!1&r||s>=r)&&Object.keys(o.O).every((function(t){return o.O[t](n[i])}))?n.splice(i--,1):(l=!1,r<s&&(s=r));if(l){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[n,a,r]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,r,s=n[0],l=n[1],i=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(i)var d=i(o)}for(e&&e(n);c<s.length;c++)r=s[c],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(d)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(453)}));n=o.O(n)})();
//# sourceMappingURL=app.fef3f33c.js.map